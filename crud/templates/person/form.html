{% extends "base.html" %}

{% block title %} Formulary {% endblock %}

{% block head %}{% endblock %}

{% block content %}

<div class="person-form">
  <form method="POST" id="form_client" enctype="multipart/form-data">
    {% csrf_token %}

    <!-- Buttons -->
    <div class="row person__header">
      <div class="col-sm-12">
        <button type="submit" class="btn btn-success btn-sm">
          <i class="fas fa-save"></i> Save
        </button>
        {% if object.id %}
        <button type="button" class="btn btn-danger btn-sm" data-toggle="modal"
        data-target="#confirmDeleteModal">
          Delete
        </button>
        {% endif %}
        <a class="btn btn-secondary btn-sm" href="{% url 'person_read' %}">
          <i class="fas fa-ban"></i> Cancel
        </a>
      </div>
    </div>

    <!-- Table -->
    <table class="table table-sm table-responsive-sm person-form__table">
      <thead>
        <tr>
          <th scope="col">Person</th>
          <th scope="col">
          New registry
          </th>
        </tr>
      </thead>
      <tbody>
        {% if object.id %}
        <tr>
          <th><label for="id_id">ID</label></th>
          <td>
            <input class="person-form__input-entry person-form__input-id" type="text" id="id_id" name="id"
            value="{{ object.id }}"
            maxlength="8" disabled>
            </div>
          </td>
        </tr>
        {% endif %}
        <tr>
          <th><label for="id_photo">Photo</label></th>
          <td>
            {% if object.photo %}
            <div class="float-left mb-3 person-listing__photo-open">
              Currently:
              <img class="person-form__photo-thumb"
              src="{{ media_url }}{{ object.photo }}" alt="" width="32">
            </div>
            {% endif %}
            <div class="input-group input-group-sm mb-3">
              <div class="custom-file person-form__choose-file">
                <input class="custom-file-input" type="file" accept="images/*" name="photo" id="id_photo">
                <label class="custom-file-label person-form__choose-file-label" for="id_photo">Choose file</label>
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <th><label for="id_name">Name</label></th>
          <td>
            <input class="person-form__input-entry" type="text" id="id_name" name="name"
            value="{% if object.name %}{{ object.name | title }}{% endif %}"
            maxlength="70" required>
          </td>
        </tr>
        <tr>
          <th><label for="id_cpf">CPF</label></th>
          <td>
            <input class="person-form__input-entry" type="text"
            data-mask="000.000.000-00" id="id_cpf" name="cpf"
            value="{% if object.cpf %}{{ object.cpf }}{% endif %}" maxlength="15"
            placeholder="Only number" required>
          </td>
        </tr>
        <tr>
          <th><label for="id_city">City</label></th>
          <td>
            <input class="person-form__input-entry" type="text" id="id_city" name="city"
            value="{% if object.city %}{{ object.city | title }}{% endif %}"
            maxlength="30" required>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
  </form>
</div>

<!-- Modal View Photo -->
<div class="modal fade" id="ModalPhotoView" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <img src="" class="person-listing__photo-full" style="width: 100%">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

{% endblock %}